# Weekly CTF 10
We are doing picoCTF challenges

# Crack the Gate 1
[Crack the Gate 1](https://play.picoctf.org/practice/challenge/520?page=1&search=crack%20)

Looking at the HTML, we can see a comment that seems to be encrypted. Therefore, we can go to CyberChef to decrypt it. With ROT13, we see that the message tells us to use the header `X-Dev-Access: yes` to gain temporary access.

The challenge does give us the email address as well. Therefore, we can use either Burp Suite to modify the packet that will be sent or send a packet via terminal commands and add this header to the packet.

I am using curl for this. So my command would be:

    curl http://amiable-citadel.picoctf.net:57584/login -X POST -H "X-Dev-Access: yes" -H "Content-Type: application" -d 
    '{"email":"ctf-player@picoctf.org", "password":"pass"}'

This would give the flag.
# Crack the Gate 2
[Crack the Gate 2](https://play.picoctf.org/practice/challenge/521?page=1&search=crack%20)

For this one, we are using a brute forcing attack based on the challenge. Therefore, we will be using Burp Suite's `Intruder` feature
to brute force with the password list given to us. 

However, when getting the responses back, we see that the website have a rate limit on processing requests so it is slow.

If you want to wait, it would work since it is just rate limited for a little bit. 

Instead, to bypass this rate limit, we will be using the `X-Forwarded-For` header. Looking at the docs, we see that it identifies the client IP and the proxy IP. If I send a packet to a proxy, the proxy will add this header to the packet.

We trick it, making it think that the request is coming from multiple place. We can use any IP we want here.

So we want to use a `Pitchfork` attack here, where we have a seperate list for each payload position.

Make up any IP address for our header like this:

    X-Forwarded-For: 203.11.5.$client$ 

Here, I place a payload position called `client` in the last octet. Using Pitchfork, I can then specify `1 - client` and `Payload Type: Numbers` from 1 to 30 for example. Then for the password, use a `Payload Type: Runtime File` and choose the password file. 

Now the requests will be processed much faster since they are coming from different clients with different IPs. Look at the response
with a different response length and that will give us our flag. 